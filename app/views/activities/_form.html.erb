<%= form_with(model: [plan, activity], url: defined?(from_shared) && from_shared ? create_from_shared_plan_activities_path(plan) : plan_activities_path(plan), local: false, class: "space-y-4") do |form| %>
  <div>
    <%= form.label :name, class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= form.text_field :name, class: "w-full border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black" %>
  </div>

  <div>
    <%= form.label :description, class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= form.text_area :description, rows: 3, class: "w-full border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black" %>
  </div>

  <div>
    <%= form.label :location, class: "block text-sm font-medium text-gray-700 mb-1" %>
    <%= form.text_field :location, class: "w-full border-2 border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-black" %>
  </div>

  <div class="flex justify-end space-x-3 pt-2">
    <button type="button" id="cancel-activity-btn" class="bg-white hover:bg-gray-100 text-gray-800 px-4 py-2 rounded-md shadow-sm border-2 border-gray-300 font-medium">
      Cancel
    </button>
    <%= form.submit "Add Activity", class: "bg-black hover:bg-gray-800 text-white px-4 py-2 rounded-md shadow-md font-medium" %>
  </div>
<% end %>

<script>
  document.getElementById('cancel-activity-btn').addEventListener('click', function() {
    document.getElementById('activity-form').style.display = 'none';
    document.getElementById('add-activity-btn').textContent = 'Add Activity';
  });
</script> 